{"ast":null,"code":"var _jsxFileName = \"E:\\\\masaustu\\\\golazo\\\\src\\\\pages\\\\LiveMatches.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { api } from '../services/api';\nimport { useNavigate } from 'react-router-dom';\nimport MatchCard from '../components/MatchCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LiveMatches = () => {\n  _s();\n  const navigate = useNavigate();\n  const [matches, setMatches] = useState([]);\n  const [groupedMatches, setGroupedMatches] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [favoriteMatches, setFavoriteMatches] = useState(() => {\n    const saved = localStorage.getItem('favoriteMatches');\n    return saved ? JSON.parse(saved) : [];\n  });\n  useEffect(() => {\n    const fetchLiveMatches = async () => {\n      setLoading(true);\n      try {\n        const response = await api.get('/sport/football/events/live');\n        const liveMatches = response.data.events.filter(match => match.status.type === 'inprogress' || match.status.type === 'halftime');\n        setMatches(liveMatches);\n        groupMatchesByTournament(liveMatches);\n      } catch (error) {\n        console.error('Canlı maçlar yüklenirken hata:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLiveMatches();\n    const interval = setInterval(fetchLiveMatches, 60000);\n    return () => clearInterval(interval);\n  }, []);\n  const groupMatchesByTournament = matches => {\n    const grouped = {};\n    matches.forEach(match => {\n      var _match$tournament$cat;\n      const categoryName = ((_match$tournament$cat = match.tournament.category) === null || _match$tournament$cat === void 0 ? void 0 : _match$tournament$cat.name) || '';\n      const tournamentName = match.tournament.name;\n      const fullName = categoryName ? `${categoryName} - ${tournamentName}` : tournamentName;\n      if (!grouped[fullName]) {\n        grouped[fullName] = [];\n      }\n      grouped[fullName].push(match);\n    });\n    setGroupedMatches(grouped);\n  };\n  const handleMatchClick = match => {\n    navigate(`/match/${match.id}`);\n  };\n  const toggleFavoriteMatch = matchId => {\n    setFavoriteMatches(prev => {\n      const newFavorites = prev.includes(matchId) ? prev.filter(id => id !== matchId) : [...prev, matchId];\n      localStorage.setItem('favoriteMatches', JSON.stringify(newFavorites));\n      return newFavorites;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-6 text-white bg-gray-800 p-4 rounded-lg\",\n        children: \"Canl\\u0131 Ma\\xE7lar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-400 py-8\",\n        children: \"Y\\xFCkleniyor...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-8\",\n        children: [Object.entries(groupedMatches).map(([fullName, matches]) => {\n          const [category, tournament] = fullName.split(' - ');\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800/50 rounded-lg overflow-hidden border border-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 bg-gray-800 border-b border-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-400\",\n                children: category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold text-white\",\n                children: tournament\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"divide-y divide-gray-700/50\",\n              children: matches.map(match => /*#__PURE__*/_jsxDEV(MatchCard, {\n                match: match,\n                onClick: () => handleMatchClick(match),\n                onToggleFavorite: toggleFavoriteMatch,\n                isFavorite: favoriteMatches.includes(match.id)\n              }, match.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }, this)]\n          }, fullName, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this);\n        }), matches.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-400 text-lg bg-gray-800/50 p-8 rounded-lg border border-gray-700\",\n          children: \"\\u015Eu anda canl\\u0131 ma\\xE7 bulunmuyor.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_s(LiveMatches, \"m2LFIeDQl3pvCQ5kF5vAVuT9dOI=\", false, function () {\n  return [useNavigate];\n});\n_c = LiveMatches;\nexport default LiveMatches;\nvar _c;\n$RefreshReg$(_c, \"LiveMatches\");","map":{"version":3,"names":["React","useEffect","useState","api","useNavigate","MatchCard","jsxDEV","_jsxDEV","LiveMatches","_s","navigate","matches","setMatches","groupedMatches","setGroupedMatches","loading","setLoading","favoriteMatches","setFavoriteMatches","saved","localStorage","getItem","JSON","parse","fetchLiveMatches","response","get","liveMatches","data","events","filter","match","status","type","groupMatchesByTournament","error","console","interval","setInterval","clearInterval","grouped","forEach","_match$tournament$cat","categoryName","tournament","category","name","tournamentName","fullName","push","handleMatchClick","id","toggleFavoriteMatch","matchId","prev","newFavorites","includes","setItem","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","entries","map","split","onClick","onToggleFavorite","isFavorite","length","_c","$RefreshReg$"],"sources":["E:/masaustu/golazo/src/pages/LiveMatches.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { api } from '../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport MatchCard from '../components/MatchCard';\r\n\r\ninterface Match {\r\n  id: number;\r\n  homeTeam: { \r\n    name: string;\r\n    slug: string;\r\n  };\r\n  awayTeam: { \r\n    name: string;\r\n    slug: string;\r\n  };\r\n  homeScore: {\r\n    current: number;\r\n    display: number;\r\n    period1: number;\r\n    period2: number;\r\n    normaltime: number;\r\n  };\r\n  awayScore: {\r\n    current: number;\r\n    display: number;\r\n    period1: number;\r\n    period2: number;\r\n    normaltime: number;\r\n  };\r\n  startTimestamp: number;\r\n  tournament: {\r\n    name: string;\r\n    category: {\r\n      name: string;\r\n    };\r\n  };\r\n  status: {\r\n    type: string;\r\n    description: string;\r\n  };\r\n}\r\n\r\nconst LiveMatches: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [matches, setMatches] = useState<Match[]>([]);\r\n  const [groupedMatches, setGroupedMatches] = useState<{ [key: string]: Match[] }>({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [favoriteMatches, setFavoriteMatches] = useState<number[]>(() => {\r\n    const saved = localStorage.getItem('favoriteMatches');\r\n    return saved ? JSON.parse(saved) : [];\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchLiveMatches = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await api.get('/sport/football/events/live');\r\n        const liveMatches = response.data.events.filter((match: Match) => \r\n          match.status.type === 'inprogress' || \r\n          match.status.type === 'halftime'\r\n        );\r\n        setMatches(liveMatches);\r\n        groupMatchesByTournament(liveMatches);\r\n      } catch (error) {\r\n        console.error('Canlı maçlar yüklenirken hata:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLiveMatches();\r\n    const interval = setInterval(fetchLiveMatches, 60000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const groupMatchesByTournament = (matches: Match[]) => {\r\n    const grouped: { [key: string]: Match[] } = {};\r\n    matches.forEach(match => {\r\n      const categoryName = match.tournament.category?.name || '';\r\n      const tournamentName = match.tournament.name;\r\n      const fullName = categoryName ? `${categoryName} - ${tournamentName}` : tournamentName;\r\n      \r\n      if (!grouped[fullName]) {\r\n        grouped[fullName] = [];\r\n      }\r\n      grouped[fullName].push(match);\r\n    });\r\n    setGroupedMatches(grouped);\r\n  };\r\n\r\n  const handleMatchClick = (match: Match) => {\r\n    navigate(`/match/${match.id}`);\r\n  };\r\n\r\n  const toggleFavoriteMatch = (matchId: number) => {\r\n    setFavoriteMatches(prev => {\r\n      const newFavorites = prev.includes(matchId)\r\n        ? prev.filter(id => id !== matchId)\r\n        : [...prev, matchId];\r\n      \r\n      localStorage.setItem('favoriteMatches', JSON.stringify(newFavorites));\r\n      return newFavorites;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900\">\r\n      <div className=\"container mx-auto p-4\">\r\n        <h1 className=\"text-2xl font-bold mb-6 text-white bg-gray-800 p-4 rounded-lg\">\r\n          Canlı Maçlar\r\n        </h1>\r\n        \r\n        {loading ? (\r\n          <div className=\"text-center text-gray-400 py-8\">Yükleniyor...</div>\r\n        ) : (\r\n          <div className=\"grid gap-8\">\r\n            {Object.entries(groupedMatches).map(([fullName, matches]) => {\r\n              const [category, tournament] = fullName.split(' - ');\r\n              \r\n              return (\r\n                <div key={fullName} className=\"bg-gray-800/50 rounded-lg overflow-hidden border border-gray-700\">\r\n                  <div className=\"p-4 bg-gray-800 border-b border-gray-700\">\r\n                    <span className=\"text-sm text-gray-400\">{category}</span>\r\n                    <h2 className=\"text-lg font-semibold text-white\">{tournament}</h2>\r\n                  </div>\r\n                  <div className=\"divide-y divide-gray-700/50\">\r\n                    {matches.map((match) => (\r\n                      <MatchCard\r\n                        key={match.id}\r\n                        match={match}\r\n                        onClick={() => handleMatchClick(match)}\r\n                        onToggleFavorite={toggleFavoriteMatch}\r\n                        isFavorite={favoriteMatches.includes(match.id)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n            \r\n            {matches.length === 0 && (\r\n              <div className=\"text-center text-gray-400 text-lg bg-gray-800/50 p-8 rounded-lg border border-gray-700\">\r\n                Şu anda canlı maç bulunmuyor.\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiveMatches; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}